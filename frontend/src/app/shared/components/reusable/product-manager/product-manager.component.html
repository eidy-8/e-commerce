<div class="toolbar">
  <label>
    <input type="checkbox" [checked]="allSelected" (change)="toggleSelectAll()" />
  </label>
  <button (click)="pauseSelected()">Pausar</button>
  <button (click)="activateSelected()">Ativar</button>
</div>

<div class="product-list">
  <div class="product-row" *ngFor="let p of products">
    <input
      type="checkbox"
      [(ngModel)]="p.selected"
      (change)="onProductSelectionChange()"
    />

    <div class="product-image">
      <img [src]="p.imageUrl" [alt]="p.name" />
    </div>

    <div class="product-info">
      <div class="code">#{{ p.code }}</div>
      <div class="name">{{ p.name }}</div>
      <div class="quantity">{{ p.quantity }} unidade</div>
    </div>
    
    <div class="product-info2">
      <div class="sales-box">
        <div class="sales">{{ p.sales }} vendas</div>
        <div class="price">R$ {{ p.price | number:'1.2-2' }}</div>
      </div>
  
      <div class="status">
        <div class="status-message">
          {{ p.active ? 'Ativo' : 'Pausado' }}
        </div>
        <div class="sub-status">{{ p.active ? 'Este produto está ativo neste canal de venda.' : 'Você pausou o produto neste canal de venda.' }}</div>
      </div>

      <button class="toggle-btn" (click)="toggleProduct(p)">
        {{ p.active ? 'Pausado' : 'Ativo' }}
        <label class="switch">
          <input type="checkbox">
          <span class="slider round"></span>
        </label>
      </button>
      
    </div>

    <div class="menu">
      <button class="menu-btn">⋮</button>
      <ul class="menu-list">
        <li (click)="editProduct(p)">Editar</li>
        <li (click)="toggleProduct(p)">{{ p.active ? 'Desativar' : 'Ativar' }}</li>
        <li (click)="viewProduct(p)">Ver anúncio</li>
        <li (click)="deleteProduct(p)">Excluir</li>
      </ul>
    </div>
  </div>
</div>
